<h1>📚 Mon Blog Express</h1>

<div class="search-form">
  <form method="GET">
    <input
      type="text"
      name="search"
      placeholder="Rechercher un article..."
      value="<%= search %>"
    />
    <button type="submit">🔍 Rechercher</button>
    <% if (search) { %>
    <a href="/" style="margin-left: 10px">❌ Effacer</a>
    <% } %>
  </form>
</div>

<p class="meta">
  <% if (search) { %> Résultats pour "<strong><%= search %></strong>" : <%=
  articles.length %> article(s) trouvé(s) <% } else { %> Total : <%=
  totalArticles %> article(s) <% } %>
</p>

<% if (articles.length === 0) { %>
<div class="error">
  Aucun article trouvé. <a href="/new-article">Créer le premier article</a>
</div>
<% } else { %> <% articles.forEach(article => { %>
<div class="article-card">
  <h2><a href="/article/<%= article.id %>"><%= article.title %></a></h2>
  <div class="meta">
    Par
    <a href="/author/<%= encodeURIComponent(article.author) %>"
      ><%= article.author %></a
    >
    le <%= article.date.toLocaleDateString('fr-FR') %>
  </div>
  <p><%= article.content.substring(0, 150) %>...</p>
  <div>
    <% article.tags.forEach(tag => { %>
    <span class="tag">#<%= tag %></span>
    <% }) %>
  </div>
</div>
<% }) %> <% } %>
